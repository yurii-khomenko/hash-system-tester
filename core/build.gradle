apply plugin: 'scala'
apply plugin: 'application'

jar {

    baseName = 'hash-system-tester'

    sourceCompatibility = 1.8
    targetCompatibility = 1.8

    manifest {
        attributes("Implementation-Title": baseName,
                "Built-Date": new Date())
    }
}

distributions {
    main {
        baseName = jar.baseName
        applicationName = jar.baseName
        contents {
            from('src/main/resources') {
                into 'conf'
            }
        }
    }
}

tasks.withType(Tar) { compression = Compression.GZIP }

mainClassName = "system.hash.tester.core.App"

repositories { mavenCentral() }

dependencies {

    compile('org.scala-lang:scala-library:2.12.8')
    compile('org.scala-lang.modules:scala-java8-compat_2.12:0.9.0')

    compile('com.typesafe:config:1.3.3')
    compile('commons-codec:commons-codec:1.12')

    compile('org.asynchttpclient:async-http-client:2.8.1')
    compile('org.json4s:json4s-native_2.12:3.6.5')
    compile('ch.qos.logback:logback-classic:1.2.3')

    compile('io.prometheus:simpleclient:0.6.0')

    testCompile('junit:junit:4.12')
}